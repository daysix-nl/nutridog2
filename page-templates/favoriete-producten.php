<?php
/**
 * Template name: Favoriete producten
 */


 get_header(); ?>

<main>
<div class="container pt-[30px] md:pt-[35px] lg:pt-[45px] xl:pt-[50px]  pb-[70px] lg:pb-[90px] xl:pb-[100px] md:flex justify-between">
    <div class="w-full md:w-[199px] lg:w-[340px] xl:w-[378px] relative">
        <div class="absolute top-[-20px] right-[-20px] md:top-0 md:right-0 md:left-[-10px] lg:left-[-14px] z-[2] md:relative scale-[0.7] lg:scale-100 orgin-top-right md:origin-top-left md:translate-y-2 lg:orgin-[unset] lg:translate-y-[unset]">
            <svg xmlns="http://www.w3.org/2000/svg" width="123.103" height="103.601" viewBox="0 0 123.103 103.601">
                <path id="Path_762" data-name="Path 762" d="M22.746,1.311c4.569-1.43,15.02-3.01,28.69,3.059S73.861,15.516,76.789,22.353s.24,20.367-5.361,33.977S55.89,78.715,51.436,79.947s-15.394-1.65-29.33-7.31S3.4,61.586,1.161,56.33-.271,36.916,5.249,22.353,18.177,2.741,22.746,1.311Z" transform="translate(0 29.215) rotate(-22)" fill="#ff842b"/>
                <path id="Path_763" data-name="Path 763" d="M13.291.766c2.67-.836,8.777-1.759,16.765,1.787s13.1,6.513,14.815,10.508.14,11.9-3.132,19.854S32.658,46,30.056,46.715s-9-.964-17.138-4.271S1.985,35.987.679,32.915-.159,21.571,3.067,13.061,10.621,1.6,13.291.766Z" transform="translate(77.782 51.096) rotate(6)" fill="#57dd04"/>
                <g id="Screenshot_2023-12-18_at_11.43.24" data-name="Screenshot 2023-12-18 at 11.43.24" transform="translate(107.628 91.45) rotate(177)">
                    <path id="Path_699" data-name="Path 699" d="M5.386,9.544a.013.013,0,0,1,.012.017c-.158,1-.24,2.029-.3,3.042q-.287,4.556-.566,9.09a.017.017,0,0,1-.017.017,4.594,4.594,0,0,0-1.505.321,4.678,4.678,0,0,0-2.12,1.691,4.926,4.926,0,0,0,1.038,6.737,4.525,4.525,0,0,0,1.737.776,4.462,4.462,0,0,0,2.526-.21,4.772,4.772,0,0,0,1.682-1.139.055.055,0,0,1,.034-.016.184.184,0,0,1,.173.056,5.653,5.653,0,0,0,.384.446,4.636,4.636,0,0,0,1.436.983,4.392,4.392,0,0,0,2.124.348,4.631,4.631,0,0,0,2.152-.764,4.807,4.807,0,0,0,1.289-1.3A4.989,4.989,0,0,0,15.8,24.67a4.655,4.655,0,0,0-2.58-2.326.007.007,0,0,1-.005-.008q.522-6.029.776-11.943a.02.02,0,0,1,.021-.021,4.573,4.573,0,0,0,1.8-.465,4.791,4.791,0,0,0,1.863-1.652,5.009,5.009,0,0,0,.812-3.015A4.828,4.828,0,0,0,16.5,1.571,4.7,4.7,0,0,0,14.046.745a4.667,4.667,0,0,0-3.69,1.741q-.017.021-.03,0A4.62,4.62,0,0,0,8.479.566,4.421,4.421,0,0,0,4.68.314a4.636,4.636,0,0,0-2.2,1.808A4.916,4.916,0,0,0,1.672,5.2,4.691,4.691,0,0,0,5.386,9.544" transform="translate(0 0)" fill="none"/>
                    <path id="Path_701" data-name="Path 701" d="M5.386,9.544A4.691,4.691,0,0,1,1.672,5.2a4.916,4.916,0,0,1,.806-3.075A4.636,4.636,0,0,1,4.68.314a4.421,4.421,0,0,1,3.8.252,4.62,4.62,0,0,1,1.848,1.918q.013.024.03,0A4.667,4.667,0,0,1,14.046.745a4.7,4.7,0,0,1,2.453.826,4.828,4.828,0,0,1,1.983,3.67,5.009,5.009,0,0,1-.812,3.015,4.791,4.791,0,0,1-1.863,1.652,4.573,4.573,0,0,1-1.8.465.02.02,0,0,0-.021.021q-.254,5.914-.776,11.943a.007.007,0,0,0,.005.008A4.655,4.655,0,0,1,15.8,24.67a4.989,4.989,0,0,1-.337,4.968,4.807,4.807,0,0,1-1.289,1.3,4.631,4.631,0,0,1-2.152.764A4.392,4.392,0,0,1,9.9,31.355a4.636,4.636,0,0,1-1.436-.983,5.653,5.653,0,0,1-.384-.446.184.184,0,0,0-.173-.056.055.055,0,0,0-.034.016,4.772,4.772,0,0,1-1.682,1.139,4.462,4.462,0,0,1-2.526.21,4.525,4.525,0,0,1-1.737-.776A4.926,4.926,0,0,1,.887,23.722a4.678,4.678,0,0,1,2.12-1.691,4.594,4.594,0,0,1,1.505-.321.017.017,0,0,0,.017-.017q.279-4.533.566-9.09c.064-1.012.146-2.045.3-3.042A.013.013,0,0,0,5.386,9.544Z" transform="translate(0 0)" fill="#fff"/>
                </g>
                <path id="star-svgrepo-com" d="M20.988,5.5c.509-1.142.763-1.712,1.118-1.888a1.1,1.1,0,0,1,.977,0c.354.176.609.747,1.118,1.888L28.253,14.6a2.431,2.431,0,0,0,.342.635,1.1,1.1,0,0,0,.369.268,2.431,2.431,0,0,0,.71.129l9.9,1.045c1.243.131,1.864.2,2.141.479a1.1,1.1,0,0,1,.3.929c-.058.391-.522.81-1.45,1.646l-7.4,6.665a2.431,2.431,0,0,0-.5.522,1.1,1.1,0,0,0-.141.434,2.428,2.428,0,0,0,.1.715L34.7,37.8c.259,1.223.389,1.834.206,2.184a1.1,1.1,0,0,1-.79.574c-.39.066-.931-.246-2.014-.871l-8.624-4.974a2.433,2.433,0,0,0-.65-.313,1.1,1.1,0,0,0-.457,0,2.433,2.433,0,0,0-.65.313l-8.624,4.974c-1.083.624-1.624.937-2.014.871a1.1,1.1,0,0,1-.79-.574c-.183-.35-.054-.962.206-2.184l2.066-9.739a2.432,2.432,0,0,0,.1-.715,1.1,1.1,0,0,0-.141-.434,2.431,2.431,0,0,0-.5-.522l-7.4-6.665c-.928-.837-1.393-1.255-1.45-1.646a1.1,1.1,0,0,1,.3-.929c.277-.283.9-.348,2.141-.479l9.9-1.045a2.43,2.43,0,0,0,.71-.129,1.1,1.1,0,0,0,.369-.268,2.432,2.432,0,0,0,.342-.635Z" transform="translate(28.587 29.061)" fill="#fff" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
            </svg>
        </div>
        <h3 class="text-15 leading-16 md:text-16 md:leading-28 tracking-[0.1em] font-jakarta italic uppercase md:mt-[0px] lg:mt-[15px]">Like, Like, like!</h3>
        <h2 class="text-20 leading-24 md:max-w-[510px] lg:max-w-[unset] lg:text-36 lg:leading-42 tracking-[0.07em] font-grotesk text-[#FF91C8] uppercase mt-[10px] lg:mt-[15px]">Favoriete <span class="text-[#FF6248]">producten</span></h2>
        <p class="text-15 leading-26 md:text-15 md:leading-25 lg:text-18 lg:leading-30 font-jakarta font-medium mt-[10px] lg:mt-[15px] lg:max-w-[280px]">Je favoriete items, allemaal op één plek. Klik bij een product op het hartje om meer items aan je collectie toe te voegen.</p>
    </div>
    <div class="w-full md:w-[485px] lg:w-[690px] xl:w-[876px] grid grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-x-[15px] gap-y-[30px] lg:gap-x-[15px] ld:gap-y-[40px] items-start h-fit relative mt-[20px] md:mt-[0px]">
        <?php

        if (isset($_COOKIE['favoriteProducts']) && !empty($_COOKIE['favoriteProducts'])) {

            $favoriteProductIds = json_decode(stripslashes($_COOKIE['favoriteProducts']), true);

            if (is_array($favoriteProductIds)) {

                $validProductIds = [];

                foreach ($favoriteProductIds as $productId) {
                    if (wc_get_product($productId) !== false) {
                        $validProductIds[] = $productId;
                    }
                }


                if (!empty($validProductIds)) {

                    $args = array(
                        'post_type' => 'product',
                        'posts_per_page' => -1,
                        'post__in' => $validProductIds,
                        'orderby' => 'post__in'
                    );

                    $products_query = new WP_Query($args);

                    if ($products_query->have_posts()) :
                        while ($products_query->have_posts()) : $products_query->the_post();

                            $product = wc_get_product(get_the_ID()); ?>

                           
                            <?php

                            include get_template_directory() . '/componenten/product-item.php'; ?>

                          
                          
                        <?php
                        endwhile;

                        wp_reset_postdata();
                    else :
                        echo 'Geen producten gevonden';
                    endif;
                } else { ?>
                     <p class="font-jakarta font-normal text-17 leading-30 text-[#000000] absolute top-0 left-[0px] md:left-0 right-0">Je hebt nog geen producten geliked.</p>
                    <?php
                }
            } else { ?>
                     <p class="font-jakarta font-normal text-17 leading-30 text-[#000000] absolute top-0 left-[0px] md:left-0 right-0">Je hebt nog geen producten geliked.</p>
                    <?php
            }
        } else { ?>
                     <p class="font-jakarta font-normal text-17 leading-30 text-[#000000] absolute top-0 left-[0px] md:left-0 right-0">Je hebt nog geen producten geliked.</p>
                    <?php
        }
        ?>
    </div>
</div>

</main>
<?php get_footer('nofooter'); ?>



